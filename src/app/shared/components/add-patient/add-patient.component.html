<!-- Add Patient Form -->
<div *ngIf="showForm" class="fade-in">
  <div class="flex items-center justify-between mb-8">
    <div>
      <h2 class="text-2xl font-bold text-gray-900">Add New Patient</h2>
      <p class="text-gray-600 mt-1">Enter patient information to create a new record</p>
    </div>
    <button
      (click)="toggleForm()"
      class="text-gray-400 hover:text-gray-600 transition-colors duration-200"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>

  <form (ngSubmit)="onSubmit()" class="space-y-8">
    <!-- Personal Information Section -->
    <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-6 slide-up border border-gray-200 shadow-md">
      <h3 class="text-lg font-bold text-teal-900 mb-6 flex items-center gap-2">
        <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
        </svg>
        Personal Information
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="form-label-enterprise">Full Name *</label>
          <input
            type="text"
            class="form-input-enterprise"
            [(ngModel)]="newPatient.name"
            name="name"
            required
            placeholder="Enter patient full name"
          >
        </div>

        <div>
          <label class="form-label-enterprise">Date of Birth *</label>
          <input
            type="date"
            class="form-input-enterprise"
            [(ngModel)]="newPatient.dateOfBirth"
            name="dateOfBirth"
            required
          >
        </div>

        <div>
          <label class="form-label-enterprise">Gender *</label>
          <select
            class="form-input-enterprise"
            [(ngModel)]="newPatient.gender"
            name="gender"
            required
          >
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div>
          <label class="form-label-enterprise">Contact Number</label>
          <input
            type="tel"
            class="form-input-enterprise"
            [(ngModel)]="newPatient.phone"
            name="phone"
            placeholder="Enter phone number"
          >
        </div>

        <div>
          <label class="form-label-enterprise">Email Address</label>
          <input
            type="email"
            class="form-input-enterprise"
            [(ngModel)]="newPatient.email"
            name="email"
            placeholder="Enter email address"
          >
        </div>

        <div class="md:col-span-2">
          <label class="form-label-enterprise">Address</label>
          <textarea
            class="form-input-enterprise"
            [(ngModel)]="newPatient.address"
            name="address"
            rows="3"
            placeholder="Enter patient address"
          ></textarea>
        </div>
      </div>
    </div>

    <!-- Medical Information Section -->
    <div class="bg-gradient-to-br from-emerald-50 to-green-50 rounded-xl p-6 slide-up border border-gray-200 shadow-md" style="animation-delay: 0.1s">
      <h3 class="text-lg font-bold text-emerald-900 mb-6 flex items-center gap-2">
        <svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg>
        Medical Information
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="form-label-enterprise">Patient Type *</label>
          <select
            class="form-input-enterprise"
            [(ngModel)]="newPatient.patientType"
            name="patientType"
            required
          >
            <option value="">Select Patient Type</option>
            <option value="Inpatient">Inpatient</option>
            <option value="Outpatient">Outpatient</option>
          </select>
        </div>

        <div>
          <label class="form-label-enterprise">Department *</label>
          <select
            class="form-input-enterprise"
            [(ngModel)]="newPatient.department"
            name="department"
            required
          >
            <option value="">Select Department</option>
            <option value="cardiology">Cardiology</option>
            <option value="pulmonology">Pulmonology</option>
            <option value="oncology">Oncology</option>
            <option value="general">General Medicine</option>
          </select>
        </div>

        <div>
          <label class="form-label-enterprise">Assigned Doctor</label>
          <select
            class="form-input-enterprise"
            [(ngModel)]="newPatient.assignedDoctor"
            name="assignedDoctor"
          >
            <option value="">Select Doctor</option>
            <option value="1">Dr. James Wilson</option>
            <option value="2">Dr. Maria Garcia</option>
          </select>
        </div>

        <div>
          <label class="form-label-enterprise">Admission Date</label>
          <input
            type="date"
            class="form-input-enterprise"
            [(ngModel)]="newPatient.admissionDate"
            name="admissionDate"
          >
        </div>

        <div class="md:col-span-2">
          <label class="form-label-enterprise">Medical Conditions</label>
          <input
            type="text"
            class="form-input-enterprise"
            [(ngModel)]="newPatient.conditions"
            name="conditions"
            placeholder="e.g., Diabetes, Hypertension (comma separated)"
          >
        </div>
      </div>
    </div>

    <!-- Medical Reports Section -->
    <div class="bg-gradient-to-br from-lime-50 to-green-50 rounded-xl p-6 slide-up border border-gray-200 shadow-md" style="animation-delay: 0.2s">
      <h3 class="text-lg font-bold text-lime-900 mb-6 flex items-center gap-2">
        <svg class="w-6 h-6 text-lime-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
        </svg>
        Medical Reports
      </h3>
      <div class="border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-teal-500 hover:bg-teal-50 transition-all duration-200 bg-white">
        <svg class="mx-auto h-12 w-12 text-lime-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
        </svg>
        <div class="mt-4">
          <p class="text-sm text-gray-700 font-medium">Drag and drop medical reports here, or</p>
          <button type="button" class="text-lime-700 hover:text-lime-900 font-bold text-sm">
            browse files
          </button>
        </div>
        <p class="text-xs text-gray-600 font-medium mt-2">PDF, DOC, DOCX up to 10MB</p>
      </div>
    </div>

    <!-- Form Actions -->
    <div class="flex justify-end space-x-4 pt-6 border-t-2 border-gray-300 slide-up" style="animation-delay: 0.3s">
      <button
        type="button"
        (click)="toggleForm()"
        class="px-6 py-3 border-2 border-gray-400 rounded-xl text-gray-800 font-bold hover:bg-gray-100 transition-all duration-200 button-press shadow-md"
      >
        Cancel
      </button>
      <button
        type="submit"
        [disabled]="!isFormValid()"
        class="px-6 py-3 bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 disabled:from-gray-300 disabled:to-gray-400 text-white rounded-xl font-bold transition-all duration-200 disabled:cursor-not-allowed button-press shadow-lg"
      >
        Save Patient
      </button>
    </div>
  </form>
</div>
