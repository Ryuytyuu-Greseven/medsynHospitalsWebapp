<!-- Add Patient Button -->
<div class="mb-6" *ngIf="!showForm">
  <app-button
    variant="primary"
    (onClick)="toggleForm()"
  >
    Add New Patient
  </app-button>
</div>

<!-- Add Patient Form -->
<app-card class="mb-8" *ngIf="showForm">
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-xl font-semibold text-gray-900">Add New Patient</h2>
    <button
      (click)="toggleForm()"
      class="text-gray-400 hover:text-gray-600"
    >
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>

  <form (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="form-label">Full Name</label>
      <input
        type="text"
        class="form-input"
        [(ngModel)]="newPatient.name"
        name="name"
        required
        placeholder="Enter patient name"
      >
    </div>

    <div>
      <label class="form-label">Age</label>
      <input
        type="number"
        class="form-input"
        [(ngModel)]="newPatient.age"
        name="age"
        required
        min="0"
        max="120"
        placeholder="Enter age"
      >
    </div>

    <div>
      <label class="form-label">Gender</label>
      <select
        class="form-input"
        [(ngModel)]="newPatient.gender"
        name="gender"
        required
      >
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
    </div>

    <div>
      <label class="form-label">Conditions</label>
      <input
        type="text"
        class="form-input"
        [(ngModel)]="newPatient.conditions"
        name="conditions"
        placeholder="e.g., Diabetes, Hypertension"
      >
    </div>

    <div class="md:col-span-2 flex justify-end space-x-4">
      <app-button
        type="button"
        variant="ghost"
        (onClick)="toggleForm()"
      >
        Cancel
      </app-button>
      <app-button
        type="submit"
        variant="primary"
        [disabled]="!isFormValid()"
      >
        Add Patient
      </app-button>
    </div>
  </form>
</app-card>
